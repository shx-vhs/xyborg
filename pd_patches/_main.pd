#N canvas 43 25 1237 747 12;
#X obj 62 44 trill_init;
#X obj 61 106 trill_routing, f 64;
#X obj 65 571 buttons, f 8;
#X obj 175 1156 dac~ 1 2;
#X obj 32 166 pitch_left, f 32;
#X obj 337 173 pitch_right, f 32;
#N canvas 0 22 450 278 (subpatch) 0;
#X array waveform 1027 float 3;
#A 0 -0.0584835 0 0.0584835 0.116762 0.174629 0.231884 0.288324 0.343755 0.397981 0.450816 0.502078 0.551591 0.599187 0.644705 0.687995 0.728913 0.767328 0.803116 0.836166 0.866378 0.893664 0.917946 0.939161 0.957255 0.972191 0.98394 0.99249 0.997839 0.999999 0.998995 0.994862 0.98765 0.977419 0.964243 0.948205 0.929399 0.90793 0.883914 0.857473 0.828741 0.797858 0.764972 0.730238 0.693817 0.655874 0.61658 0.576108 0.534637 0.492345 0.449411 0.406018 0.362345 0.318573 0.274879 0.231437 0.18842 0.145995 0.104325 0.0635669 0.0238726 -0.0146136 -0.0517547 -0.0874211 -0.121492 -0.153855 -0.184406 -0.213054 -0.239713 -0.26431 -0.286782 -0.307077 -0.325152 -0.340976 -0.354528 -0.365799 -0.374789 -0.381509 -0.385981 -0.388237 -0.388316 -0.386271 -0.382161 -0.376054 -0.368027 -0.358165 -0.34656 -0.33331 -0.31852 -0.3023 -0.284766 -0.266038 -0.246239 -0.225495 -0.203937 -0.181694 -0.158898 -0.135683 -0.11218 -0.0885202 -0.0648339 -0.0412486 -0.0178894 0.00512209 0.027668 0.0496348 0.0709142 0.0914029 0.111004 0.129625 0.147184 0.163601 0.178808 0.19274 0.205344 0.216572 0.226385 0.234753 0.241652 0.247069 0.250996 0.253436 0.254398 0.2539 0.251967 0.248631 0.243933 0.237917 0.230639 0.222155 0.212532 0.201839 0.190151 0.177547 0.16411 0.149928 0.13509 0.119687 0.103814 0.0875651 0.0710374 0.054327 0.0375298 0.0207414 0.00405586 -0.0124344 -0.0286392 -0.044471 -0.0598454 -0.0746816 -0.0889027 -0.102436 -0.115214 -0.127173 -0.138257 -0.148412 -0.157592 -0.165758 -0.172874 -0.178913 -0.183853 -0.187678 -0.19038 -0.191956 -0.19241 -0.191751 -0.189995 -0.187166 -0.183289 -0.1784 -0.172535 -0.16574 -0.158062 -0.149555 -0.140275 -0.130284 -0.119645 -0.108426 -0.0966963 -0.0845284 -0.0719958 -0.0591735 -0.0461376 -0.0329645 -0.0197307 -0.00651234 0.00661534 0.0195782 0.0323038 0.0447217 0.0567637 0.0683646 0.0794622 0.0899975 0.0999155 0.109165 0.117699 0.125476 0.132456 0.138609 0.143904 0.148321 0.15184 0.15445 0.156143 0.156918 0.156778 0.15573 0.15379 0.150975 0.147309 0.142819 0.137539 0.131505 0.124758 0.117341 0.109304 0.100697 0.0915733 0.0819907 0.0720071 0.0616833 0.051081 0.0402634 0.0292944 0.0182382 0.00715899 -0.00387919 -0.0148131 -0.0255807 -0.0361211 -0.0463752 -0.0562861 -0.0657992 -0.0748624 -0.0834268 -0.0914465 -0.0988789 -0.105686 -0.111831 -0.117285 -0.122021 -0.126015 -0.129251 -0.131714 -0.133395 -0.134291 -0.1344 -0.133727 -0.132281 -0.130076 -0.12713 -0.123463 -0.119101 -0.114075 -0.108417 -0.102164 -0.0953557 -0.0880348 -0.0802469 -0.0720395 -0.0634629 -0.0545686 -0.0454101 -0.0360417 -0.0265189 -0.0168977 -0.00723423 0.0024154 0.0119955 0.0214509 0.0307278 0.0397735 0.048537 0.056969 0.0650228 0.0726537 0.0798199 0.0864825 0.0926056 0.0981566 0.103107 0.10743 0.111105 0.114114 0.116443 0.118081 0.119024 0.119268 0.118817 0.117676 0.115856 0.113369 0.110235 0.106474 0.102111 0.0971744 0.0916957 0.0857091 0.0792518 0.0723633 0.0650857 0.0574629 0.0495408 0.0413667 0.0329891 0.0244575 0.0158222 0.00713352 -0.00155774 -0.0102012 -0.018747 -0.0271459 -0.0353499 -0.0433122 -0.0509876 -0.058333 -0.0653069 -0.0718707 -0.0779878 -0.0836246 -0.0887505 -0.0933377 -0.0973619 -0.100802 -0.10364 -0.105863 -0.107459 -0.108422 -0.10875 -0.108441 -0.107501 -0.105938 -0.103763 -0.100991 -0.0976397 -0.0937318 -0.0892916 -0.0843469 -0.0789282 -0.0730688 -0.0668043 -0.0601726 -0.0532134 -0.0459684 -0.0384807 -0.0307945 -0.0229554 -0.0150093 -0.00700276 0.00101743 0.00900465 0.0169126 0.0246955 0.0323087 0.0397083 0.0468521 0.0536994 0.0602113 0.066351 0.0720841 0.0773784 0.0822045 0.0865358 0.0903487 0.0936226 0.09634 0.0984867 0.100052 0.101029 0.101413 0.101203 0.100403 0.0990197 0.0970617 0.0945424 0.091478 0.0878878 0.0837943 0.0792224 0.0742003 0.0687582 0.0629289 0.0567474 0.0502506 0.043477 0.0364669 0.0292615 0.0219033 0.0144356 0.006902 -0.000653459 -0.00818674 -0.0156541 -0.0230121 -0.0302184 -0.0372312 -0.0440102 -0.0505165 -0.0567129 -0.0625639 -0.0680363 -0.0730991 -0.0777236 -0.081884 -0.085557 -0.0887222 -0.0913624 -0.0934631 -0.0950134 -0.0960053 -0.0964341 -0.0962986 -0.0956005 -0.0943452 -0.0925409 -0.0901992 -0.0873349 -0.0839655 -0.0801117 -0.0757967 -0.0710465 -0.0658897 -0.0603569 -0.054481 -0.0482969 -0.0418411 -0.0351517 -0.0282681 -0.0212306 -0.0140805 -0.00685964 0.000389788 0.00762551 0.0148054 0.0218877 0.0288313 0.035596 0.0421426 0.0484333 0.0544317 0.0601035 0.0654159 0.0703385 0.0748433 0.0789043 0.0824987 0.0856061 0.0882089 0.0902927 0.0918459 0.0928602 0.0933303 0.093254 0.0926326 0.0914701 0.0897741 0.087555 0.0848262 0.0816043 0.0779086 0.073761 0.0691862 0.0642113 0.0588657 0.0531809 0.0471903 0.0409292 0.0344343 0.0277436 0.0208964 0.0139327 0.00689314 -0.00018114 -0.00724887 -0.0142689 -0.0212002 -0.0280026 -0.0346364 -0.0410631 -0.0472453 -0.0531472 -0.0587346 -0.0639749 -0.068838 -0.0732957 -0.0773221 -0.080894 -0.083991 -0.086595 -0.0886912 -0.0902676 -0.0913152 -0.0918282 -0.0918037 -0.0912421 -0.090147 -0.0885248 -0.0863851 -0.0837407 -0.0806071 -0.0770027 -0.0729487 -0.0684687 -0.0635891 -0.0583383 -0.0527471 -0.046848 -0.0406756 -0.034266 -0.0276564 -0.0208855 -0.0139927 -0.00701834 -3.03685e-06 0.00701228 0.0139867 0.0208795 0.0276506 0.0342603 0.0406702 0.0468428 0.0527421 0.0583336 0.0635847 0.0684647 0.072945 0.0769994 0.0806042 0.0837382 0.0863831 0.0885231 0.0901458 0.0912414 0.0918035 0.0918284 0.0913159 0.0902687 0.0886928 0.086597 0.0839934 0.0808969 0.0773254 0.0732993 0.0688421 0.0639793 0.0587393 0.0531522 0.0472505 0.0410685 0.034642 0.0280084 0.0212062 0.0142749 0.00725497 0.000187262 -0.00688703 -0.0139266 -0.0208905 -0.0277378 -0.0344286 -0.0409237 -0.047185 -0.0531758 -0.0588609 -0.0642068 -0.0691821 -0.0737572 -0.0779052 -0.0816013 -0.0848237 -0.0875528 -0.0897724 -0.0914689 -0.0926318 -0.0932537 -0.0933304 -0.0928608 -0.091847 -0.0902942 -0.0882109 -0.0856085 -0.0825016 -0.0789076 -0.074847 -0.0703426 -0.0654203 -0.0601082 -0.0544368 -0.0484386 -0.0421481 -0.0356018 -0.0288373 -0.0218938 -0.0148116 -0.00763175 -0.000396059 0.00685337 0.0140743 0.0212244 0.0282621 0.0351459 0.0418355 0.0482915 0.0544758 0.060352 0.0658851 0.0710423 0.0757928 0.0801081 0.0839624 0.0873322 0.090197 0.0925391 0.0943438 0.0955997 0.0962982 0.0964343 0.0960059 0.0950145 0.0934647 0.0913644 0.0887248 0.08556 0.0818874 0.0777274 0.0731033 0.0680409 0.0625688 0.0567181 0.050522 0.0440159 0.0372371 0.0302245 0.0230184 0.0156605 0.00819324 0.000659991 -0.00689546 -0.0144291 -0.0218969 -0.0292552 -0.0364607 -0.043471 -0.0502448 -0.0567419 -0.0629237 -0.0687533 -0.0741957 -0.0792183 -0.0837905 -0.0878845 -0.0914751 -0.09454 -0.0970598 -0.0990183 -0.100403 -0.101203 -0.101413 -0.101029 -0.100053 -0.0984883 -0.0963421 -0.0936252 -0.0903518 -0.0865394 -0.0822084 -0.0773827 -0.0720888 -0.0663562 -0.0602168 -0.0537052 -0.0468582 -0.0397146 -0.0323152 -0.0247022 -0.0169194 -0.00901153 -0.00102436 0.00699582 0.0150024 0.0229486 0.0307878 0.0384741 0.045962 0.0532073 0.0601667 0.0667988 0.0730636 0.0789234 0.0843424 0.0892875 0.0937282 0.0976366 0.100988 0.103761 0.105936 0.1075 0.10844 0.10875 0.108423 0.10746 0.105865 0.103643 0.100805 0.0973652 0.0933415 0.0887547 0.0836293 0.0779929 0.0718762 0.0653128 0.0583392 0.0509941 0.0433189 0.0353569 0.0271531 0.0187543 0.0102087 0.00156525 -0.007126 -0.0158147 -0.0244501 -0.0329818 -0.0413595 -0.0495339 -0.0574562 -0.0650792 -0.0723572 -0.079246 -0.0857037 -0.0916907 -0.0971699 -0.102107 -0.10647 -0.110232 -0.113367 -0.115854 -0.117675 -0.118816 -0.119268 -0.119024 -0.118082 -0.116444 -0.114116 -0.111108 -0.107433 -0.103111 -0.0981612 -0.0926106 -0.086488 -0.0798259 -0.0726601 -0.0650296 -0.0569762 -0.0485444 -0.0397812 -0.0307358 -0.021459 -0.0120037 -0.00242373 0.00722587 0.0168894 0.0265107 0.0360335 0.045402 0.0545608 0.0634553 0.0720323 0.0802399 0.0880283 0.0953496 0.102158 0.108412 0.11407 0.119097 0.123459 0.127127 0.130074 0.13228 0.133726 0.134399 0.134291 0.133397 0.131716 0.129254 0.126019 0.122025 0.11729 0.111836 0.105691 0.0988851 0.0914531 0.083434 0.0748701 0.0658073 0.0562946 0.046384 0.0361301 0.0255899 0.0148225 0.0038887 -0.00714941 -0.0182286 -0.0292848 -0.040254 -0.0510717 -0.0616742 -0.0719984 -0.0819822 -0.0915652 -0.100689 -0.109297 -0.117334 -0.124751 -0.1315 -0.137534 -0.142815 -0.147305 -0.150972 -0.153788 -0.155729 -0.156777 -0.156918 -0.156144 -0.154452 -0.151843 -0.148324 -0.143908 -0.138613 -0.132462 -0.125482 -0.117706 -0.109173 -0.0999238 -0.0900064 -0.0794716 -0.0683745 -0.056774 -0.0447323 -0.0323147 -0.0195893 -0.00662664 0.00650093 0.0197193 0.0329531 0.0461263 0.0591624 0.0719848 0.0845177 0.096686 0.108416 0.119635 0.130275 0.140267 0.149547 0.158055 0.165734 0.17253 0.178395 0.183286 0.187163 0.189993 0.19175 0.19241 0.191957 0.190382 0.187681 0.183856 0.178917 0.172879 0.165764 0.1576 0.14842 0.138266 0.127183 0.115225 0.102447 0.0889147 0.0746942 0.0598585 0.0444845 0.0286531 0.0124486 -0.0040415 -0.0207269 -0.0375153 -0.0543125 -0.0710231 -0.0875509 -0.1038 -0.119673 -0.135077 -0.149916 -0.164098 -0.177536 -0.19014 -0.201829 -0.212523 -0.222148 -0.230632 -0.237912 -0.243928 -0.248628 -0.251965 -0.253899 -0.254398 -0.253437 -0.250999 -0.247073 -0.241657 -0.234759 -0.226393 -0.216581 -0.205354 -0.192752 -0.17882 -0.163615 -0.147198 -0.129641 -0.11102 -0.0914202 -0.0709323 -0.0496535 -0.0276872 -0.0051418 0.0178693 0.0412283 0.0648134 0.0884997 0.112159 0.135663 0.158878 0.181674 0.203918 0.225477 0.246221 0.266021 0.28475 0.302285 0.318506 0.333298 0.346549 0.358156 0.368019 0.376048 0.382156 0.386268 0.388315 0.388238 0.385984 0.381514 0.374796 0.365808 0.354539 0.340988 0.325166 0.307093 0.286801 0.26433 0.239735 0.213078 0.184432 0.153882 0.121521 0.0874513 0.0517862 0.0146464 -0.0238388 -0.0635321 -0.104289 -0.145958 -0.188383 -0.231399 -0.274841 -0.318535 -0.362308 -0.40598 -0.449374 -0.492308 -0.534601 -0.576073 -0.616545 -0.65584 -0.693784 -0.730207 -0.764943 -0.79783 -0.828715 -0.857449 -0.883892 -0.907911 -0.929382 -0.94819 -0.964231 -0.977409 -0.987642 -0.994857 -0.998992 -1 -0.997843;
#A 1000 -0.992496 -0.983949 -0.972202 -0.957269 -0.939178 -0.917966 -0.893686 -0.866403 -0.836194 -0.803146 -0.76736 -0.728948 -0.688032 -0.644744 -0.599227 -0.551633 -0.502122 -0.450861 -0.398027 -0.343802 -0.288373 -0.231933 -0.174679 -0.116812 -0.0585341 -5.06142e-05 0.058433;
#X coords 0 1 1027 -1 192 49 1;
#X restore 344 367 graph;
#X obj 36 252 note;
#X obj 73 252 note;
#X obj 110 252 note;
#X obj 148 252 note;
#X obj 186 252 note;
#X obj 224 252 note;
#X obj 347 250 note;
#X obj 385 250 note;
#X obj 422 250 note;
#X obj 460 250 note;
#X obj 498 250 note;
#X obj 536 250 note;
#X obj 344 444 loadbang;
#X obj 279 316 *~ 1;
#X obj 248 781 selector~;
#X obj 177 1091 selector~;
#X obj 177 1039 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 177 1063 + 1;
#X obj 248 728 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 248 752 + 1;
#X obj 58 786 loadbang;
#X msg 58 816 1;
#X obj 65 606 t b b;
#X obj 310 707 wavefolder_prediction;
#X obj 383 645 acc_left;
#X obj 209 940 selector~;
#X obj 209 886 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 209 910 + 1;
#X obj 380 821 acc_right;
#X msg 344 483 \; waveform sinesum 1604 1 2 3 4 5 6 7 8 9 10 11 12 \; waveform normalize 1, f 25;
#X text 617 640 Receives and preprocesses the raw axis coordinates from the accelerometer on the left hand.;
#X text 615 817 This patch receives and preprocesses the raw axis coordinates from the accelerometer on the right hand.;
#X text 627 40 Initializes the trill craft with the right parameters for capacitive sensing. Sends the values to trill_routing;
#X text 625 98 Processes the incoming values from trill craft and converts them to bangs for trigger and pitch information.;
#X text 623 167 These patches set the right MIDI note number range for both hands. Middle C is initalized on startup to map to the small finger of the left hand. The objects allow to independently set pitch ranges for both hands between 4 octaves.;
#X obj 293 857 lop~;
#X obj 293 881 lop~;
#X obj 293 905 lop~;
#X obj 175 1121 clip~ -1 1;
#X text 623 250 12 Note objects for the 12 steps in the chromatic scale. Receeives note on/off and pitch information. Arranged for both hands.;
#X text 621 369 The array is read by the note objects in order to generate the waveform. It exists outside the note patch since all objects read from the same array.;
#X text 618 571 Patch for On/off functionality. Bangs are send to route audio. Button 1 on the left hand also enables prediction within the wavefolder object.;
#X text 619 780 The selector object switches between bypassing or routing to the effect.;
#X text 615 708 Distortion patch;
#X text 94 821 Initializing selectors to bypass mode;
#X text 616 858 The simple filter effect consists of three lowpass filter objects in series for a steeper filter curve. They receive cutoff frequency values from the acc_right object;
#X text 65 -103 Main Pure Data patch for Xyborg;
#X text 63 -88 =====================================;
#X text 64 -66 For simplicity \, copy the contents of main into a project folder in the Bela IDE. All necessary patches are included.;
#X text 630 -65 General Bela settings: All analog inputs are used \, requiring a sample rate of 22050 Hz. A block size of 64 is the lower limit and only occasionally drops a block. I currently run it on 128 to ensure no dropped blocks.;
#X obj 235 1028 modulation~;
#X text 618 472 This internal message inititalizes the array. "sinesum" tells the array to receive a series of 12 harmonics to graph. "1604" represents the size (resolution) of the array. Resolution changes timbre. "waveform normalize 1" sets the peak amplitude to 1;
#X connect 1 0 7 1;
#X connect 1 1 8 1;
#X connect 1 2 9 1;
#X connect 1 3 10 1;
#X connect 1 4 11 1;
#X connect 1 5 12 1;
#X connect 1 6 4 0;
#X connect 1 7 4 1;
#X connect 1 8 13 1;
#X connect 1 9 14 1;
#X connect 1 10 15 1;
#X connect 1 11 16 1;
#X connect 1 12 17 1;
#X connect 1 13 18 1;
#X connect 1 14 5 0;
#X connect 1 15 5 1;
#X connect 2 0 29 0;
#X connect 2 2 23 0;
#X connect 2 3 33 0;
#X connect 4 0 7 0;
#X connect 4 1 8 0;
#X connect 4 2 9 0;
#X connect 4 3 10 0;
#X connect 4 4 11 0;
#X connect 4 5 12 0;
#X connect 5 0 13 0;
#X connect 5 1 14 0;
#X connect 5 2 15 0;
#X connect 5 3 16 0;
#X connect 5 4 17 0;
#X connect 5 5 18 0;
#X connect 7 0 20 0;
#X connect 8 0 20 0;
#X connect 9 0 20 0;
#X connect 10 0 20 0;
#X connect 11 0 20 0;
#X connect 12 0 20 0;
#X connect 13 0 20 0;
#X connect 14 0 20 0;
#X connect 15 0 20 0;
#X connect 16 0 20 0;
#X connect 17 0 20 0;
#X connect 18 0 20 0;
#X connect 19 0 36 0;
#X connect 20 0 21 1;
#X connect 20 0 30 0;
#X connect 21 0 42 0;
#X connect 21 0 32 1;
#X connect 22 0 45 0;
#X connect 23 0 24 0;
#X connect 24 0 22 0;
#X connect 25 0 26 0;
#X connect 26 0 21 0;
#X connect 27 0 28 0;
#X connect 28 0 21 0;
#X connect 28 0 22 0;
#X connect 28 0 32 0;
#X connect 29 0 25 0;
#X connect 29 1 30 2;
#X connect 30 0 21 2;
#X connect 31 0 30 1;
#X connect 32 0 22 1;
#X connect 32 0 57 0;
#X connect 33 0 34 0;
#X connect 34 0 32 0;
#X connect 35 0 42 1;
#X connect 35 0 44 1;
#X connect 35 0 43 1;
#X connect 35 1 57 1;
#X connect 35 1 57 2;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 44 0 32 2;
#X connect 45 0 3 0;
#X connect 57 0 22 2;
